# sm3-optimized
 sm3优化
 
 针对sm3密码杂凑函数的并行化优化方法，采用的sm3消息扩展函数和压缩函数，具体地，sm3消息扩展函数将512位的消息分组分为16个字，再将16个字长度的消息转化(通过线性函数)成67个字长度的变量w0，w1，...，w67和64个字长度的变量w′0，w′1，...，w′63，供sm3压缩函数使用。sm3压缩函数的输入变量为64个字长度的w0，w1，...，w63和变量w′0，w′1，...，w′63，sm3压缩函数共计算64轮；将最后一轮的状态变量a，b，c，d，e，f，g，h作为压缩函数的输出。
 
 1)sm3消息压缩函数按照4轮顺序执行的方式代替原始标准算法中的4轮迭代执行。

2)将顺序执行中，值相同的变量简化成同一个变量。

3)步骤2)后，将所有对顺序执行没有影响的操作(变量替换后冗余的赋值语句等)删除。

4)压缩函数的8轮迭代展开和变量替代与4轮展开的方法一致，而输入变量的替代使用。

优化前的时间：

![image](https://user-images.githubusercontent.com/106589212/181785392-1b80269c-61de-43d9-81be-f44892960b0e.png)

优化后的时间：

![image](https://user-images.githubusercontent.com/106589212/181785590-6377f570-4dec-4e60-ab80-b0637456b441.png)
